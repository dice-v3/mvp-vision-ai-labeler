# Vision AI Labeler - Environment Variables Template
# Copy this file to .env and update the values

# =============================================================================
# Backend Configuration
# =============================================================================

# Platform Database (Read-Only Access)
# In development: Use read-only user on Platform DB
# In production: Use PostgreSQL replica connection
PLATFORM_DB_HOST=localhost
PLATFORM_DB_PORT=5432
PLATFORM_DB_NAME=platform
PLATFORM_DB_USER=platform_readonly
PLATFORM_DB_PASSWORD=change_me

# User Database (Read-Only Access - Phase 9)
# PostgreSQL database shared with Platform service
USER_DB_HOST=localhost
USER_DB_PORT=5433
USER_DB_NAME=users
USER_DB_USER=user_readonly
USER_DB_PASSWORD=change_me

# Labeler Database (Full Access)
# In production: Railway PostgreSQL for Labeler service
LABELER_DB_HOST=localhost
LABELER_DB_PORT=5435
LABELER_DB_NAME=labeler
LABELER_DB_USER=labeler_user
LABELER_DB_PASSWORD=change_me

# Database Pool Settings (Phase 9 - for Railway deployment)
# Tune these values based on Railway plan and connection limits
# Railway Hobby: 20 connections max, Pro: 50 connections max
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Storage Configuration (MinIO / S3 / Cloudflare R2)
# For MinIO (local development):
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_REGION=us-east-1
S3_USE_SSL=false

# For Cloudflare R2 (production - Phase 9.5):
# S3_ENDPOINT=https://<account-id>.r2.cloudflarestorage.com
# S3_ACCESS_KEY=<r2-access-key-id>
# S3_SECRET_KEY=<r2-secret-access-key>
# S3_REGION=auto
# S3_USE_SSL=true

S3_BUCKET_DATASETS=training-datasets
S3_BUCKET_ANNOTATIONS=annotations

# JWT Authentication (must match Platform's secret)
JWT_SECRET_KEY=your-super-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# API Configuration
API_HOST=0.0.0.0
API_PORT=8011
API_RELOAD=true
API_WORKERS=1

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3010,http://localhost:3001,http://localhost:3000

# =============================================================================
# Frontend Configuration
# =============================================================================

# API URL
NEXT_PUBLIC_API_URL=http://localhost:8011

# App Configuration
NEXT_PUBLIC_APP_NAME=Vision AI Labeler
NEXT_PUBLIC_APP_VERSION=0.1.0

# =============================================================================
# Development / Production
# =============================================================================

ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# Railway Deployment (Phase 9)
# =============================================================================

# Railway provides these variables automatically:
# DATABASE_URL (for Labeler DB)
# PGHOST, PGPORT, PGDATABASE, PGUSER, PGPASSWORD
# PORT (for API server)

# You need to add these manually in Railway:
# - User DB connection (USER_DB_*)
# - Platform DB connection (PLATFORM_DB_*)
# - Storage (S3_*)
# - JWT secret (JWT_SECRET_KEY)
# - CORS origins (CORS_ORIGINS)
