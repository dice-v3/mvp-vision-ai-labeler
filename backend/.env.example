# Vision AI Labeler - Environment Variables Template
# Copy this file to .env and update the values

# =============================================================================
# Backend Configuration
# =============================================================================

# Platform Database (Read-Only Access)
# In development: Use read-only user on Platform DB
# In production: Use PostgreSQL replica connection
PLATFORM_DB_HOST=localhost
PLATFORM_DB_PORT=5432
PLATFORM_DB_NAME=platform
PLATFORM_DB_USER=admin
PLATFORM_DB_PASSWORD=change_me

# User Database (Read-Only Access - Phase 9)
# Docker PostgreSQL database (platform-postgres-user-tier0)
USER_DB_HOST=localhost
USER_DB_PORT=5433
USER_DB_NAME=users
USER_DB_USER=admin
USER_DB_PASSWORD=change_me

# Labeler Database (Full Access - Phase 9.2)
# Local PostgreSQL for Labeler-specific data (switched from Railway for demo deployment)
# Docker container mapped to port 5435
LABELER_DB_HOST=localhost
LABELER_DB_PORT=5435
LABELER_DB_NAME=labeler
LABELER_DB_USER=labeler_user
LABELER_DB_PASSWORD=change_me

# Database Pool Settings (Phase 9 - for Railway deployment)
# Tune these values based on Railway plan and connection limits
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Cloudflare R2 Configuration (Phase 9.3)
# Production: Use your Cloudflare R2 credentials
# Development: Can use MinIO for local testing
S3_ENDPOINT=https://<YOUR_ACCOUNT_ID>.r2.cloudflarestorage.com
S3_ACCESS_KEY=<YOUR_R2_ACCESS_KEY>
S3_SECRET_KEY=<YOUR_R2_SECRET_KEY>
S3_BUCKET_DATASETS=training-datasets
S3_BUCKET_ANNOTATIONS=annotations
S3_REGION=auto
S3_USE_SSL=true

# R2 Public Development URL (Phase 9.3)
# Optional: For public access to uploaded files
# Get this from Cloudflare R2 dashboard -> Settings -> Public R2.dev subdomain
R2_PUBLIC_URL=https://pub-<YOUR_ACCOUNT_ID>.r2.dev

# JWT Authentication (must match Platform's secret)
JWT_SECRET_KEY=your-super-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# Service JWT Authentication (Phase 16.5 - Platform Integration)
# CRITICAL: This secret MUST match Platform's SERVICE_JWT_SECRET exactly
# Get this value from Platform team
SERVICE_JWT_SECRET=<MATCH_PLATFORM_SERVICE_JWT_SECRET>
SERVICE_JWT_ALGORITHM=HS256

# API Configuration
API_HOST=0.0.0.0
API_PORT=8011
API_RELOAD=true
API_WORKERS=1

# CORS Origins (updated for port 3010 + Railway deployment)
# For demo deployment, add your Railway frontend URL here
# Example: CORS_ORIGINS=https://labeler-demo.railway.app,http://localhost:3010
CORS_ORIGINS=http://localhost:3010,http://localhost:3001,http://localhost:3000

# =============================================================================
# Frontend Configuration
# =============================================================================

# API URL
NEXT_PUBLIC_API_URL=http://localhost:8001

# App Configuration
NEXT_PUBLIC_APP_NAME=Vision AI Labeler
NEXT_PUBLIC_APP_VERSION=0.1.0

# =============================================================================
# Development / Production
# =============================================================================

ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# Production Deployment Notes
# =============================================================================

# When deploying to production:
# 1. Change all passwords and secrets
# 2. Update database hosts to production servers
# 3. Set ENVIRONMENT=production
# 4. Set DEBUG=false
# 5. Update CORS_ORIGINS with production domain
# 6. Ensure SERVICE_JWT_SECRET matches Platform exactly
# 7. Configure Cloudflare R2 with production credentials
